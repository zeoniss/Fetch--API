(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,n){"use strict";n.r(t);n("JBxO"),n("FdtR");var r="919e5e36fb6c4976a92665bad143e6d2",i={searchQuery:"",page:1,fetchArticles:function(){var e=this,t="http://newsapi.org/v2/everything?q="+this.query+"&language=en&apiKey="+r+"&pageSize=5page="+this.page;return fetch(t,{headers:{Authorization:r}}).then((function(e){return e.json()})).then((function(t){var n=t.articles;return e.page+=1,n})).catch((function(e){return console.log(e)}))},resetPage:function(){this.page=1},get query(){return this.searchQuery},set query(e){return this.searchQuery=e}},a=n("l8Ea"),l=n.n(a),o={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles")};var s=function(e){var t=l()(e);o.articlesContainer.insertAdjacentHTML("beforeend",t)},u=function(){function e(e){var t=e.selector,n=e.hidden,r=void 0!==n&&n;this.refs=this.getRefs(t),r&&this.hide()}var t=e.prototype;return t.getRefs=function(e){var t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t},t.enable=function(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")},t.disable=function(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")},t.show=function(){this.refs.button.classList.remove("is-hidden")},t.hide=function(){this.refs.button.classList.add("is-hidden")},e}(),c=(n("yjly"),new u({selector:'button[data-action="load-more"]',hidden:!0}));function h(){c.disable(),i.fetchArticles().then((function(e){s(e),c.show(),c.enable()}))}o.searchForm.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget;i.query=t.elements.query.value,o.articlesContainer.innerHTML="",i.resetPage(),h(),t.reset()})),c.refs.button.addEventListener("click",h)},l8Ea:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var a,l=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n<li>\r\n    <img src="'+s("function"==typeof(a=null!=(a=u(n,"urlToImage")||(null!=t?u(t,"urlToImage"):t))?a:o)?a.call(l,{name:"urlToImage",hash:{},data:i,loc:{start:{line:4,column:14},end:{line:4,column:28}}}):a)+'" alt="" width="320">\r\n    <h2><a href="'+s("function"==typeof(a=null!=(a=u(n,"url")||(null!=t?u(t,"url"):t))?a:o)?a.call(l,{name:"url",hash:{},data:i,loc:{start:{line:5,column:17},end:{line:5,column:24}}}):a)+'" target="_blank" rel="noopener noreferrer">'+s("function"==typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:o)?a.call(l,{name:"title",hash:{},data:i,loc:{start:{line:5,column:68},end:{line:5,column:77}}}):a)+"</a></h2></li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:6,column:9}}}))?a:""},useData:!0})},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.34b7046ac5f8c495737b.js.map